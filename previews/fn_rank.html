<!doctype html><html><head><meta charset="utf-8" /><title>Preview fn_rank</title><link href="/assets/index.css" rel="stylesheet" /><script src="/assets/pretty_previews.js" type="module" defer></script><link href="/assets/katex.min.css" rel="stylesheet" /><script src="/assets/defs.js" type="module" defer></script></head><body class="isPreview"><div id="wrapContent"><p>We often wish to pseudorandomly map items from some universe <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="enclosing" id="geo_u"><span class="enclosing" data-ref="geo_u" data-preview-anchor="/previews/geo_u.html?def§geo_u" data-hl="true"><a href="#geo_u"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></a></span></span></span></span></span> to geometrically distributed <dfn id="rank"><a data-ref="rank" data-preview-anchor="/previews/rank.html?def§rank" data-hl="true" href="#rank">ranks</a></dfn>. To this end, we require a rank function <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord"><span class="enclosing" id="fn_rank"><span class="enclosing" data-ref="fn_rank" data-preview-anchor="/previews/fn_rank.html?def§fn_rank" data-hl="true"><a href="#fn_rank"><span class="mord"><span class="mord mathrm">rank</span></span></a></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="enclosing mtight" data-ref="geo_p" data-preview-anchor="/previews/geo_p.html?def§geo_p" data-hl="true"><a class="mtight" href="#geo_p"><span class="mord mathnormal mtight">p</span></a></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="enclosing" data-ref="geo_u" data-preview-anchor="/previews/geo_u.html?def§geo_u" data-hl="true"><a href="#geo_u"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"></span></a></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">N</span></span></span></span>, such that <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="enclosing" data-ref="fn_rank" data-preview-anchor="/previews/fn_rank.html?def§fn_rank" data-hl="true"><a href="#fn_rank"><span class="mord"><span class="mord mathrm">rank</span></span></a></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="enclosing mtight" data-ref="geo_p" data-preview-anchor="/previews/geo_p.html?def§geo_p" data-hl="true"><a class="mtight" href="#geo_p"><span class="mord mathnormal mtight">p</span></a></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="enclosing" data-ref="geo_arg_u" data-preview-anchor="/previews/geo_arg_u.html?def§geo_arg_u" data-hl="true"><a href="#geo_arg_u"><span class="mord mathnormal">u</span></a></span><span class="mclose">)</span></span></span></span> for any <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="enclosing" id="geo_arg_u"><span class="enclosing" data-ref="geo_arg_u" data-preview-anchor="/previews/geo_arg_u.html?def§geo_arg_u" data-hl="true"><a href="#geo_arg_u"><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2778em;"></span></a></span></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="enclosing" data-ref="geo_u" data-preview-anchor="/previews/geo_u.html?def§geo_u" data-hl="true"><a href="#geo_u"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></a></span></span></span></span> is drawn independently from a random geometric distribution <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="enclosing" data-ref="geometric_distribution" data-preview-anchor="/previews/geometric_distribution.html?def§geometric_distribution" data-hl="true"><a href="#geometric_distribution"><span class="mord mathcal" style="margin-right:0.0593em;">G</span></a></span><span class="mopen">(</span><span class="enclosing" data-ref="geo_p" data-preview-anchor="/previews/geo_p.html?def§geo_p" data-hl="true"><a href="#geo_p"><span class="mord mathnormal">p</span></a></span><span class="mclose">)</span></span></span></span>. We simply write <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="enclosing" data-ref="fn_rank" data-preview-anchor="/previews/fn_rank.html?def§fn_rank" data-hl="true"><a href="#fn_rank"><span class="mord"><span class="mord mathrm">rank</span></span></a></span><span class="mopen">(</span><span class="enclosing" data-ref="geo_arg_u" data-preview-anchor="/previews/geo_arg_u.html?def§geo_arg_u" data-hl="true"><a href="#geo_arg_u"><span class="mord mathnormal">u</span></a></span><span class="mclose">)</span></span></span></span> when <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="enclosing" data-ref="geo_p" data-preview-anchor="/previews/geo_p.html?def§geo_p" data-hl="true"><a href="#geo_p"><span class="mord mathnormal">p</span></a></span></span></span></span> is unimportant or clear from context.</p></div></body></html>