<!doctype html><html><head><meta charset="utf-8" /><title>Preview c_unzip_i</title><link href="/assets/index.css" rel="stylesheet" /><script src="/assets/pretty_previews.js" type="module" defer></script><link href="/assets/pseudocode.css" rel="stylesheet" /><link href="/assets/katex.min.css" rel="stylesheet" /><script src="/assets/defs.js" type="module" defer></script><script src="/assets/pseudocode.js" type="module" defer></script></head><body class="isPreview"><div id="wrapContent"><code class="pseudocode"><div class="locGutter" data-l="1" data-i="0" id="code_unzipL1"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="1" href="#code_unzipL1">1</a></div><div class="fold"></div></div><div class="locContent"><div></div><div class="lineComment">Split <a class="rustic value" data-ref="c_unzip_t" data-preview-anchor="/previews/c_unzip_t.html?def§c_unzip_t" data-hl="true" href="#c_unzip_t">t</a> into two trees of <a data-ref="item" data-preview-anchor="/previews/item.html?def§item" data-hl="true" href="#item">items</a> strictly less and greater than <a class="rustic value" data-ref="c_unzip_key" data-preview-anchor="/previews/c_unzip_key.html?def§c_unzip_key" data-hl="true" href="#c_unzip_key">key</a> respectively.</div></div><div class="locGutter" data-l="2" data-i="0" id="code_unzipL2"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="2" href="#code_unzipL2">2</a></div><div class="fold"></div></div><div class="locContent"><div><span class="kw2">fn</span> <dfn id="c_unzip"><a class="rustic function" data-ref="c_unzip" data-preview-anchor="/previews/c_unzip.html?def§c_unzip" data-hl="true" href="#c_unzip">unzip</a></dfn><span class="rb1 open">&lt;</span><dfn id="c_unzip_i"><a class="rustic typeArg" data-ref="c_unzip_i" data-preview-anchor="/previews/c_unzip_i.html?def§c_unzip_i" data-hl="true" href="#c_unzip_i">I</a></dfn><span class="deemph">,</span> <dfn id="c_unzip_s"><a class="rustic typeArg" data-ref="c_unzip_s" data-preview-anchor="/previews/c_unzip_s.html?def§c_unzip_s" data-hl="true" href="#c_unzip_s"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6914em;"></span><span class="mord mathfrak">S</span></span></span></span></a></dfn><span class="deemph">:</span> <span class="rb2 open"></span><a class="rustic interface" data-ref="c_neset" data-preview-anchor="/previews/c_neset.html?def§c_neset" data-hl="true" href="#c_neset">NonemptySet</a><span class="rb0 open">&lt;</span><a class="rustic typeArg" data-ref="c_unzip_i" data-preview-anchor="/previews/c_unzip_i.html?def§c_unzip_i" data-hl="true" href="#c_unzip_i">I</a><span class="rb0 close">&gt;</span><span class="rb2 close"></span><span class="rb1 close">&gt;</span><span class="rb1 open">(</span></div></div><div class="locGutter" data-l="3" data-i="1" id="code_unzipL3"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="3" href="#code_unzipL3">3</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><dfn id="c_unzip_t"><a class="rustic value" data-ref="c_unzip_t" data-preview-anchor="/previews/c_unzip_t.html?def§c_unzip_t" data-hl="true" href="#c_unzip_t">t</a></dfn><span class="deemph">:</span> <a class="rustic type" data-ref="c_gtree" data-preview-anchor="/previews/c_gtree.html?def§c_gtree" data-hl="true" href="#c_gtree">GTree</a><span class="rb2 open">&lt;</span><a class="rustic typeArg" data-ref="c_unzip_s" data-preview-anchor="/previews/c_unzip_s.html?def§c_unzip_s" data-hl="true" href="#c_unzip_s"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6914em;"></span><span class="mord mathfrak">S</span></span></span></span></a><span class="rb2 close">&gt;</span><span class="deemph">,</span></div></div><div class="locGutter" data-l="4" data-i="1" id="code_unzipL4"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="4" href="#code_unzipL4">4</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><dfn id="c_unzip_key"><a class="rustic value" data-ref="c_unzip_key" data-preview-anchor="/previews/c_unzip_key.html?def§c_unzip_key" data-hl="true" href="#c_unzip_key">key</a></dfn><span class="deemph">:</span> <a class="rustic typeArg" data-ref="c_unzip_i" data-preview-anchor="/previews/c_unzip_i.html?def§c_unzip_i" data-hl="true" href="#c_unzip_i">I</a><span class="deemph">,</span></div></div><div class="locGutter" data-l="5" data-i="0" id="code_unzipL5"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="5" href="#code_unzipL5">5</a></div><div class="fold"></div></div><div class="locContent"><div><span class="rb1 close">)</span> <span class="deemph">-></span> <span class="rb1 open">(</span><a class="rustic type" data-ref="c_gtree" data-preview-anchor="/previews/c_gtree.html?def§c_gtree" data-hl="true" href="#c_gtree">GTree</a><span class="rb2 open">&lt;</span><a class="rustic typeArg" data-ref="c_unzip_s" data-preview-anchor="/previews/c_unzip_s.html?def§c_unzip_s" data-hl="true" href="#c_unzip_s"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6914em;"></span><span class="mord mathfrak">S</span></span></span></span></a><span class="rb2 close">&gt;</span><span class="deemph">,</span> <a class="rustic type" data-ref="c_gtree" data-preview-anchor="/previews/c_gtree.html?def§c_gtree" data-hl="true" href="#c_gtree">GTree</a><span class="rb2 open">&lt;</span><a class="rustic typeArg" data-ref="c_unzip_s" data-preview-anchor="/previews/c_unzip_s.html?def§c_unzip_s" data-hl="true" href="#c_unzip_s"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6914em;"></span><span class="mord mathfrak">S</span></span></span></span></a><span class="rb2 close">&gt;</span><span class="rb1 close">)</span> <span class="rb1 open">{</span></div></div><div class="locGutter" data-l="6" data-i="1" id="code_unzipL6"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="6" href="#code_unzipL6">6</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><span class="kw">match</span> <a class="rustic value" data-ref="c_unzip_t" data-preview-anchor="/previews/c_unzip_t.html?def§c_unzip_t" data-hl="true" href="#c_unzip_t">t</a> <span class="rb2 open">{</span></div></div><div class="locGutter" data-l="7" data-i="2" id="code_unzipL7"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="7" href="#code_unzipL7">7</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div></div><div class="lineComment">Unzipping the empty tree is trivial.</div></div><div class="locGutter" data-l="8" data-i="2" id="code_unzipL8"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="8" href="#code_unzipL8">8</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><a class="rustic type" data-ref="c_gtree" data-preview-anchor="/previews/c_gtree.html?def§c_gtree" data-hl="true" href="#c_gtree">GTree</a><span class="deemph">::</span><a class="rustic variant" data-ref="c_gtree_empty" data-preview-anchor="/previews/c_gtree_empty.html?def§c_gtree_empty" data-hl="true" href="#c_gtree_empty">Empty</a> <span class="deemph">=></span> <span class="kw">return</span> <span class="open">(</span><a class="rustic variant" data-ref="c_gtree_empty" data-preview-anchor="/previews/c_gtree_empty.html?def§c_gtree_empty" data-hl="true" href="#c_gtree_empty">Empty</a><span class="deemph">,</span> <a class="rustic variant" data-ref="c_gtree_empty" data-preview-anchor="/previews/c_gtree_empty.html?def§c_gtree_empty" data-hl="true" href="#c_gtree_empty">Empty</a><span class="close">)</span></div></div><div class="locGutter" data-l="9" data-i="2" id="code_unzipL9"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="9" href="#code_unzipL9">9</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div></div></div><div class="locGutter" data-l="10" data-i="2" id="code_unzipL10"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="10" href="#code_unzipL10">10</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div></div><div class="lineComment">For non-empty trees, split the inner set.</div></div><div class="locGutter" data-l="11" data-i="2" id="code_unzipL11"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="11" href="#code_unzipL11">11</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><a class="rustic type" data-ref="c_gtree" data-preview-anchor="/previews/c_gtree.html?def§c_gtree" data-hl="true" href="#c_gtree">GTree</a><span class="deemph">::</span><a class="rustic variant" data-ref="c_gtree_nonempty" data-preview-anchor="/previews/c_gtree_nonempty.html?def§c_gtree_nonempty" data-hl="true" href="#c_gtree_nonempty">NonEmpty</a><span class="rb0 open">(</span><dfn id="c_unzip_set"><a class="rustic value" data-ref="c_unzip_set" data-preview-anchor="/previews/c_unzip_set.html?def§c_unzip_set" data-hl="true" href="#c_unzip_set">s</a></dfn><span class="rb0 close">)</span> <span class="deemph">=></span> <span class="kw">match</span> <a class="rustic function" data-ref="c_neset_split" data-preview-anchor="/previews/c_neset_split.html?def§c_neset_split" data-hl="true" href="#c_neset_split">split</a><span class="rb0 open">(</span><a class="rustic value" data-ref="c_unzip_set" data-preview-anchor="/previews/c_unzip_set.html?def§c_unzip_set" data-hl="true" href="#c_unzip_set">s</a><span class="deemph">.</span><a class="rustic field" data-ref="c_gtree_node_set" data-preview-anchor="/previews/c_gtree_node_set.html?def§c_gtree_node_set" data-hl="true" href="#c_gtree_node_set">set</a><span class="deemph">,</span> <a class="rustic value" data-ref="c_unzip_key" data-preview-anchor="/previews/c_unzip_key.html?def§c_unzip_key" data-hl="true" href="#c_unzip_key">key</a><span class="rb0 close">)</span> <span class="rb0 open">{</span></div></div><div class="locGutter" data-l="12" data-i="3" id="code_unzipL12"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="12" href="#code_unzipL12">12</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div></div><div class="lineComment">If <a class="rustic value" data-ref="c_unzip_set" data-preview-anchor="/previews/c_unzip_set.html?def§c_unzip_set" data-hl="true" href="#c_unzip_set">s</a><span class="deemph">.</span><a class="rustic field" data-ref="c_gtree_node_set" data-preview-anchor="/previews/c_gtree_node_set.html?def§c_gtree_node_set" data-hl="true" href="#c_gtree_node_set">set</a> contains the split point (<a class="rustic value" data-ref="c_unzip_key" data-preview-anchor="/previews/c_unzip_key.html?def§c_unzip_key" data-hl="true" href="#c_unzip_key">key</a>), then everything up until the split point becomes the left return value, with the <a data-ref="gtree_left_subtree" data-preview-anchor="/previews/gtree_left_subtree.html?def§gtree_left_subtree" data-hl="true" href="#gtree_left_subtree">left subtree</a> of the split point becoming the <a data-ref="gtree_right_subtree" data-preview-anchor="/previews/gtree_right_subtree.html?def§gtree_right_subtree" data-hl="true" href="#gtree_right_subtree">right subtree</a> of the left return. Everything after the split point becomes the right return, with the <a data-ref="gtree_right_subtree" data-preview-anchor="/previews/gtree_right_subtree.html?def§gtree_right_subtree" data-hl="true" href="#gtree_right_subtree">right subtree</a> of the current node becoming the <a data-ref="gtree_right_subtree" data-preview-anchor="/previews/gtree_right_subtree.html?def§gtree_right_subtree" data-hl="true" href="#gtree_right_subtree">right subtree</a> of the right return. No further recursion.</div></div><div class="locGutter" data-l="13" data-i="3" id="code_unzipL13"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="13" href="#code_unzipL13">13</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="open">(</span></div></div><div class="locGutter" data-l="14" data-i="4" id="code_unzipL14"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="14" href="#code_unzipL14">14</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><dfn id="c_left_set_0"><a class="rustic value" data-ref="c_left_set_0" data-preview-anchor="/previews/c_left_set_0.html?def§c_left_set_0" data-hl="true" href="#c_left_set_0">left_set</a></dfn><span class="deemph">,</span></div></div><div class="locGutter" data-l="15" data-i="4" id="code_unzipL15"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="15" href="#code_unzipL15">15</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><a class="rustic type" data-ref="Option" data-preview-anchor="/previews/Option.html?def§Option" data-hl="true" href="#Option">Option</a><span class="deemph">::</span><a class="rustic variant" data-ref="OptionSome" data-preview-anchor="/previews/OptionSome.html?def§OptionSome" data-hl="true" href="#OptionSome">Some</a><span class="rb1 open">(</span><dfn id="c_left_subtree_of_key"><a class="rustic value" data-ref="c_left_subtree_of_key" data-preview-anchor="/previews/c_left_subtree_of_key.html?def§c_left_subtree_of_key" data-hl="true" href="#c_left_subtree_of_key">left_subtree_of_key</a></dfn><span class="rb1 close">)</span><span class="deemph">,</span></div></div><div class="locGutter" data-l="16" data-i="4" id="code_unzipL16"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="16" href="#code_unzipL16">16</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><dfn id="c_right_set_0"><a class="rustic value" data-ref="c_right_set_0" data-preview-anchor="/previews/c_right_set_0.html?def§c_right_set_0" data-hl="true" href="#c_right_set_0">right_set</a></dfn><span class="deemph">,</span></div></div><div class="locGutter" data-l="17" data-i="3" id="code_unzipL17"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="17" href="#code_unzipL17">17</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="close">)</span> <span class="deemph">=></span> <span class="kw">return</span> <span class="open">(</span></div></div><div class="locGutter" data-l="18" data-i="4" id="code_unzipL18"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="18" href="#code_unzipL18">18</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><a class="rustic function" data-ref="c_norm" data-preview-anchor="/previews/c_norm.html?def§c_norm" data-hl="true" href="#c_norm">lift</a><span class="rb1 open">(</span><a class="rustic value" data-ref="c_left_set_0" data-preview-anchor="/previews/c_left_set_0.html?def§c_left_set_0" data-hl="true" href="#c_left_set_0">left_set</a><span class="deemph">,</span> <a class="rustic value" data-ref="c_left_subtree_of_key" data-preview-anchor="/previews/c_left_subtree_of_key.html?def§c_left_subtree_of_key" data-hl="true" href="#c_left_subtree_of_key">left_subtree_of_key</a><span class="deemph">,</span> <a class="rustic value" data-ref="c_unzip_set" data-preview-anchor="/previews/c_unzip_set.html?def§c_unzip_set" data-hl="true" href="#c_unzip_set">s</a><span class="deemph">.</span><a class="rustic field" data-ref="c_gtree_node_rank" data-preview-anchor="/previews/c_gtree_node_rank.html?def§c_gtree_node_rank" data-hl="true" href="#c_gtree_node_rank">rank</a><span class="rb1 close">)</span><span class="deemph">,</span></div></div><div class="locGutter" data-l="19" data-i="4" id="code_unzipL19"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="19" href="#code_unzipL19">19</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><a class="rustic function" data-ref="c_norm" data-preview-anchor="/previews/c_norm.html?def§c_norm" data-hl="true" href="#c_norm">lift</a><span class="rb1 open">(</span><a class="rustic value" data-ref="c_right_set_0" data-preview-anchor="/previews/c_right_set_0.html?def§c_right_set_0" data-hl="true" href="#c_right_set_0">right_set</a><span class="deemph">,</span> <a class="rustic value" data-ref="c_unzip_set" data-preview-anchor="/previews/c_unzip_set.html?def§c_unzip_set" data-hl="true" href="#c_unzip_set">s</a><span class="deemph">.</span><a class="rustic field" data-ref="c_gtree_node_right" data-preview-anchor="/previews/c_gtree_node_right.html?def§c_gtree_node_right" data-hl="true" href="#c_gtree_node_right">right</a><span class="deemph">,</span> <a class="rustic value" data-ref="c_unzip_set" data-preview-anchor="/previews/c_unzip_set.html?def§c_unzip_set" data-hl="true" href="#c_unzip_set">s</a><span class="deemph">.</span><a class="rustic field" data-ref="c_gtree_node_rank" data-preview-anchor="/previews/c_gtree_node_rank.html?def§c_gtree_node_rank" data-hl="true" href="#c_gtree_node_rank">rank</a><span class="rb1 close">)</span><span class="deemph">,</span></div></div><div class="locGutter" data-l="20" data-i="3" id="code_unzipL20"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="20" href="#code_unzipL20">20</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="close">)</span></div></div><div class="locGutter" data-l="21" data-i="3" id="code_unzipL21"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="21" href="#code_unzipL21">21</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div></div><div class="lineComment">If <a class="rustic value" data-ref="c_unzip_set" data-preview-anchor="/previews/c_unzip_set.html?def§c_unzip_set" data-hl="true" href="#c_unzip_set">s</a><span class="deemph">.</span><a class="rustic field" data-ref="c_gtree_node_set" data-preview-anchor="/previews/c_gtree_node_set.html?def§c_gtree_node_set" data-hl="true" href="#c_gtree_node_set">set</a> does not contain the split point, and all its <a data-ref="item" data-preview-anchor="/previews/item.html?def§item" data-hl="true" href="#item">items</a> are less than the split point, then recursively split the <a data-ref="gtree_right_subtree" data-preview-anchor="/previews/gtree_right_subtree.html?def§gtree_right_subtree" data-hl="true" href="#gtree_right_subtree">right subtree</a> of <a class="rustic value" data-ref="c_unzip_set" data-preview-anchor="/previews/c_unzip_set.html?def§c_unzip_set" data-hl="true" href="#c_unzip_set">s</a>.</div></div><div class="locGutter" data-l="22" data-i="3" id="code_unzipL22"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="22" href="#code_unzipL22">22</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="open">(</span><span class="deemph">_</span><span class="deemph">,</span> <a class="rustic type" data-ref="Option" data-preview-anchor="/previews/Option.html?def§Option" data-hl="true" href="#Option">Option</a><span class="deemph">::</span><a class="rustic variant" data-ref="OptionNone" data-preview-anchor="/previews/OptionNone.html?def§OptionNone" data-hl="true" href="#OptionNone">None</a><span class="deemph">,</span> <a class="rustic type" data-ref="c_set" data-preview-anchor="/previews/c_set.html?def§c_set" data-hl="true" href="#c_set">Set</a><span class="deemph">::</span><a class="rustic variant" data-ref="c_set_empty" data-preview-anchor="/previews/c_set_empty.html?def§c_set_empty" data-hl="true" href="#c_set_empty">Empty</a><span class="close">)</span> <span class="deemph">=></span> <span class="rb1 open">{</span></div></div><div class="locGutter" data-l="23" data-i="4" id="code_unzipL23"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="23" href="#code_unzipL23">23</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="kw">let</span> <span class="open">(</span><dfn id="c_left_0"><a class="rustic value" data-ref="c_left_0" data-preview-anchor="/previews/c_left_0.html?def§c_left_0" data-hl="true" href="#c_left_0">left</a></dfn><span class="deemph">,</span> <dfn id="c_right_0"><a class="rustic value" data-ref="c_right_0" data-preview-anchor="/previews/c_right_0.html?def§c_right_0" data-hl="true" href="#c_right_0">right</a></dfn><span class="close">)</span> <span class="deemph">:=</span> <a class="rustic function" data-ref="c_unzip" data-preview-anchor="/previews/c_unzip.html?def§c_unzip" data-hl="true" href="#c_unzip">unzip</a><span class="rb2 open">(</span><a class="rustic value" data-ref="c_unzip_set" data-preview-anchor="/previews/c_unzip_set.html?def§c_unzip_set" data-hl="true" href="#c_unzip_set">s</a><span class="deemph">.</span><a class="rustic field" data-ref="c_gtree_node_right" data-preview-anchor="/previews/c_gtree_node_right.html?def§c_gtree_node_right" data-hl="true" href="#c_gtree_node_right">right</a><span class="deemph">,</span> <a class="rustic value" data-ref="c_unzip_key" data-preview-anchor="/previews/c_unzip_key.html?def§c_unzip_key" data-hl="true" href="#c_unzip_key">key</a><span class="rb2 close">)</span></div></div><div class="locGutter" data-l="24" data-i="4" id="code_unzipL24"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="24" href="#code_unzipL24">24</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="kw">return</span> <span class="open">(</span></div></div><div class="locGutter" data-l="25" data-i="5" id="code_unzipL25"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="25" href="#code_unzipL25">25</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><a class="rustic type" data-ref="c_gtree" data-preview-anchor="/previews/c_gtree.html?def§c_gtree" data-hl="true" href="#c_gtree">GTree</a><span class="deemph">::</span><a class="rustic variant" data-ref="c_gtree_nonempty" data-preview-anchor="/previews/c_gtree_nonempty.html?def§c_gtree_nonempty" data-hl="true" href="#c_gtree_nonempty">NonEmpty</a><span class="rb2 open">(</span><a class="rustic function" data-ref="c_update_right" data-preview-anchor="/previews/c_update_right.html?def§c_update_right" data-hl="true" href="#c_update_right">update_right</a><span class="rb0 open">(</span><a class="rustic value" data-ref="c_unzip_set" data-preview-anchor="/previews/c_unzip_set.html?def§c_unzip_set" data-hl="true" href="#c_unzip_set">s</a><span class="deemph">,</span> <a class="rustic value" data-ref="c_left_0" data-preview-anchor="/previews/c_left_0.html?def§c_left_0" data-hl="true" href="#c_left_0">left</a><span class="rb0 close">)</span><span class="rb2 close">)</span><span class="deemph">,</span></div></div><div class="locGutter" data-l="26" data-i="5" id="code_unzipL26"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="26" href="#code_unzipL26">26</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><a class="rustic value" data-ref="c_right_0" data-preview-anchor="/previews/c_right_0.html?def§c_right_0" data-hl="true" href="#c_right_0">right</a><span class="deemph">,</span></div></div><div class="locGutter" data-l="27" data-i="4" id="code_unzipL27"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="27" href="#code_unzipL27">27</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="close">)</span></div></div><div class="locGutter" data-l="28" data-i="3" id="code_unzipL28"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="28" href="#code_unzipL28">28</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="rb1 close">}</span></div></div><div class="locGutter" data-l="29" data-i="3" id="code_unzipL29"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="29" href="#code_unzipL29">29</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div></div><div class="lineComment">If <a class="rustic value" data-ref="c_unzip_set" data-preview-anchor="/previews/c_unzip_set.html?def§c_unzip_set" data-hl="true" href="#c_unzip_set">s</a><span class="deemph">.</span><a class="rustic field" data-ref="c_gtree_node_set" data-preview-anchor="/previews/c_gtree_node_set.html?def§c_gtree_node_set" data-hl="true" href="#c_gtree_node_set">set</a> does not contain the split point, but it does contain <a data-ref="item" data-preview-anchor="/previews/item.html?def§item" data-hl="true" href="#item">items</a> greater than the split point, then recursively split the <a data-ref="gtree_left_subtree" data-preview-anchor="/previews/gtree_left_subtree.html?def§gtree_left_subtree" data-hl="true" href="#gtree_left_subtree">leftmost subtree</a> of those greater <a data-ref="item" data-preview-anchor="/previews/item.html?def§item" data-hl="true" href="#item">items</a>.</div></div><div class="locGutter" data-l="30" data-i="3" id="code_unzipL30"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="30" href="#code_unzipL30">30</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="open">(</span><dfn id="c_left_set_1"><a class="rustic value" data-ref="c_left_set_1" data-preview-anchor="/previews/c_left_set_1.html?def§c_left_set_1" data-hl="true" href="#c_left_set_1">left_set</a></dfn><span class="deemph">,</span> <a class="rustic type" data-ref="Option" data-preview-anchor="/previews/Option.html?def§Option" data-hl="true" href="#Option">Option</a><span class="deemph">::</span><a class="rustic variant" data-ref="OptionNone" data-preview-anchor="/previews/OptionNone.html?def§OptionNone" data-hl="true" href="#OptionNone">None</a><span class="deemph">,</span> <a class="rustic type" data-ref="c_set" data-preview-anchor="/previews/c_set.html?def§c_set" data-hl="true" href="#c_set">Set</a><span class="deemph">::</span><a class="rustic variant" data-ref="c_set_nonempty" data-preview-anchor="/previews/c_set_nonempty.html?def§c_set_nonempty" data-hl="true" href="#c_set_nonempty">NonEmpty</a><span class="rb1 open">(</span><dfn id="c_r_0"><a class="rustic value" data-ref="c_r_0" data-preview-anchor="/previews/c_r_0.html?def§c_r_0" data-hl="true" href="#c_r_0">r</a></dfn><span class="rb1 close">)</span><span class="close">)</span> <span class="deemph">=></span> <span class="rb1 open">{</span></div></div><div class="locGutter" data-l="31" data-i="4" id="code_unzipL31"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="31" href="#code_unzipL31">31</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="kw">let</span> <span class="open">(</span></div></div><div class="locGutter" data-l="32" data-i="5" id="code_unzipL32"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="32" href="#code_unzipL32">32</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="open">(</span><dfn id="r_leftmost_item"><a class="rustic value" data-ref="r_leftmost_item" data-preview-anchor="/previews/r_leftmost_item.html?def§r_leftmost_item" data-hl="true" href="#r_leftmost_item">r_leftmost_item</a></dfn><span class="deemph">,</span> <dfn id="r_leftmost_subtree"><a class="rustic value" data-ref="r_leftmost_subtree" data-preview-anchor="/previews/r_leftmost_subtree.html?def§r_leftmost_subtree" data-hl="true" href="#r_leftmost_subtree">r_leftmost_subtree</a></dfn><span class="close">)</span><span class="deemph">,</span></div></div><div class="locGutter" data-l="33" data-i="5" id="code_unzipL33"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="33" href="#code_unzipL33">33</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><dfn id="r_remaining"><a class="rustic value" data-ref="r_remaining" data-preview-anchor="/previews/r_remaining.html?def§r_remaining" data-hl="true" href="#r_remaining">r_remaining</a></dfn><span class="deemph">,</span></div></div><div class="locGutter" data-l="34" data-i="4" id="code_unzipL34"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="34" href="#code_unzipL34">34</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="close">)</span> <span class="deemph">:=</span> <a class="rustic function" data-ref="c_neset_remove_min" data-preview-anchor="/previews/c_neset_remove_min.html?def§c_neset_remove_min" data-hl="true" href="#c_neset_remove_min">remove_min</a><span class="rb2 open">(</span><a class="rustic value" data-ref="c_r_0" data-preview-anchor="/previews/c_r_0.html?def§c_r_0" data-hl="true" href="#c_r_0">r</a><span class="rb2 close">)</span></div></div><div class="locGutter" data-l="35" data-i="4" id="code_unzipL35"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="35" href="#code_unzipL35">35</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="kw">let</span> <span class="open">(</span></div></div><div class="locGutter" data-l="36" data-i="5" id="code_unzipL36"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="36" href="#code_unzipL36">36</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><dfn id="c_left_1"><a class="rustic value" data-ref="c_left_1" data-preview-anchor="/previews/c_left_1.html?def§c_left_1" data-hl="true" href="#c_left_1">left</a></dfn><span class="deemph">,</span></div></div><div class="locGutter" data-l="37" data-i="5" id="code_unzipL37"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="37" href="#code_unzipL37">37</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><dfn id="c_right_1"><a class="rustic value" data-ref="c_right_1" data-preview-anchor="/previews/c_right_1.html?def§c_right_1" data-hl="true" href="#c_right_1">right</a></dfn><span class="deemph">,</span></div></div><div class="locGutter" data-l="38" data-i="4" id="code_unzipL38"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="38" href="#code_unzipL38">38</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="close">)</span> <span class="deemph">:=</span> <a class="rustic function" data-ref="c_unzip" data-preview-anchor="/previews/c_unzip.html?def§c_unzip" data-hl="true" href="#c_unzip">unzip</a><span class="rb2 open">(</span><a class="rustic value" data-ref="r_leftmost_subtree" data-preview-anchor="/previews/r_leftmost_subtree.html?def§r_leftmost_subtree" data-hl="true" href="#r_leftmost_subtree">r_leftmost_subtree</a><span class="deemph">,</span> <a class="rustic value" data-ref="c_unzip_key" data-preview-anchor="/previews/c_unzip_key.html?def§c_unzip_key" data-hl="true" href="#c_unzip_key">key</a><span class="rb2 close">)</span></div></div><div class="locGutter" data-l="39" data-i="4" id="code_unzipL39"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="39" href="#code_unzipL39">39</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="kw">return</span> <span class="open">(</span></div></div><div class="locGutter" data-l="40" data-i="5" id="code_unzipL40"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="40" href="#code_unzipL40">40</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><a class="rustic function" data-ref="c_norm" data-preview-anchor="/previews/c_norm.html?def§c_norm" data-hl="true" href="#c_norm">lift</a><span class="rb2 open">(</span><a class="rustic value" data-ref="c_left_set_1" data-preview-anchor="/previews/c_left_set_1.html?def§c_left_set_1" data-hl="true" href="#c_left_set_1">left_set</a><span class="deemph">,</span> <a class="rustic value" data-ref="c_left_1" data-preview-anchor="/previews/c_left_1.html?def§c_left_1" data-hl="true" href="#c_left_1">left</a><span class="deemph">,</span> <a class="rustic value" data-ref="c_unzip_set" data-preview-anchor="/previews/c_unzip_set.html?def§c_unzip_set" data-hl="true" href="#c_unzip_set">s</a><span class="deemph">.</span><a class="rustic field" data-ref="c_gtree_node_rank" data-preview-anchor="/previews/c_gtree_node_rank.html?def§c_gtree_node_rank" data-hl="true" href="#c_gtree_node_rank">rank</a><span class="rb2 close">)</span><span class="deemph">,</span></div></div><div class="locGutter" data-l="41" data-i="5" id="code_unzipL41"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="41" href="#code_unzipL41">41</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><a class="rustic type" data-ref="c_gtree" data-preview-anchor="/previews/c_gtree.html?def§c_gtree" data-hl="true" href="#c_gtree">GTree</a><span class="deemph">::</span><a class="rustic variant" data-ref="c_gtree_nonempty" data-preview-anchor="/previews/c_gtree_nonempty.html?def§c_gtree_nonempty" data-hl="true" href="#c_gtree_nonempty">NonEmpty</a><span class="rb2 open">(</span><a class="rustic type" data-ref="c_gtree_node" data-preview-anchor="/previews/c_gtree_node.html?def§c_gtree_node" data-hl="true" href="#c_gtree_node">GTreeNode</a> <span class="rb0 open">{</span></div></div><div class="locGutter" data-l="42" data-i="6" id="code_unzipL42"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="42" href="#code_unzipL42">42</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><a class="rustic field" data-ref="c_gtree_node_rank" data-preview-anchor="/previews/c_gtree_node_rank.html?def§c_gtree_node_rank" data-hl="true" href="#c_gtree_node_rank">rank</a><span class="deemph">:</span> <a class="rustic value" data-ref="c_unzip_set" data-preview-anchor="/previews/c_unzip_set.html?def§c_unzip_set" data-hl="true" href="#c_unzip_set">s</a><span class="deemph">.</span><a class="rustic field" data-ref="c_gtree_node_rank" data-preview-anchor="/previews/c_gtree_node_rank.html?def§c_gtree_node_rank" data-hl="true" href="#c_gtree_node_rank">rank</a><span class="deemph">,</span></div></div><div class="locGutter" data-l="43" data-i="6" id="code_unzipL43"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="43" href="#code_unzipL43">43</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><a class="rustic field" data-ref="c_gtree_node_set" data-preview-anchor="/previews/c_gtree_node_set.html?def§c_gtree_node_set" data-hl="true" href="#c_gtree_node_set">set</a><span class="deemph">:</span> <a class="rustic function" data-ref="c_set_insert_min" data-preview-anchor="/previews/c_set_insert_min.html?def§c_set_insert_min" data-hl="true" href="#c_set_insert_min">set_insert_min</a><span class="rb1 open">(</span></div></div><div class="locGutter" data-l="44" data-i="7" id="code_unzipL44"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="44" href="#code_unzipL44">44</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><a class="rustic value" data-ref="r_remaining" data-preview-anchor="/previews/r_remaining.html?def§r_remaining" data-hl="true" href="#r_remaining">r_remaining</a><span class="deemph">,</span></div></div><div class="locGutter" data-l="45" data-i="7" id="code_unzipL45"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="45" href="#code_unzipL45">45</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="open">(</span><a class="rustic value" data-ref="r_leftmost_item" data-preview-anchor="/previews/r_leftmost_item.html?def§r_leftmost_item" data-hl="true" href="#r_leftmost_item">r_leftmost_item</a><span class="deemph">,</span> <a class="rustic value" data-ref="c_right_1" data-preview-anchor="/previews/c_right_1.html?def§c_right_1" data-hl="true" href="#c_right_1">right</a><span class="close">)</span><span class="deemph">,</span></div></div><div class="locGutter" data-l="46" data-i="6" id="code_unzipL46"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="46" href="#code_unzipL46">46</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="rb1 close">)</span><span class="deemph">,</span></div></div><div class="locGutter" data-l="47" data-i="6" id="code_unzipL47"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="47" href="#code_unzipL47">47</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><a class="rustic field" data-ref="c_gtree_node_right" data-preview-anchor="/previews/c_gtree_node_right.html?def§c_gtree_node_right" data-hl="true" href="#c_gtree_node_right">right</a><span class="deemph">:</span> <a class="rustic value" data-ref="c_unzip_set" data-preview-anchor="/previews/c_unzip_set.html?def§c_unzip_set" data-hl="true" href="#c_unzip_set">s</a><span class="deemph">.</span><a class="rustic field" data-ref="c_gtree_node_right" data-preview-anchor="/previews/c_gtree_node_right.html?def§c_gtree_node_right" data-hl="true" href="#c_gtree_node_right">right</a><span class="deemph">,</span></div></div><div class="locGutter" data-l="48" data-i="5" id="code_unzipL48"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="48" href="#code_unzipL48">48</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="rb0 close">}</span><span class="rb2 close">)</span><span class="deemph">,</span></div></div><div class="locGutter" data-l="49" data-i="4" id="code_unzipL49"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="49" href="#code_unzipL49">49</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="close">)</span></div></div><div class="locGutter" data-l="50" data-i="3" id="code_unzipL50"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="50" href="#code_unzipL50">50</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><div class="indent"> </div><span class="rb1 close">}</span></div></div><div class="locGutter" data-l="51" data-i="2" id="code_unzipL51"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="51" href="#code_unzipL51">51</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><div class="indent"> </div><span class="rb0 close">}</span></div></div><div class="locGutter" data-l="52" data-i="1" id="code_unzipL52"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="52" href="#code_unzipL52">52</a></div><div class="fold"></div></div><div class="locContent"><div><div class="indent"> </div><span class="rb2 close">}</span></div></div><div class="locGutter" data-l="53" data-i="0" id="code_unzipL53"><div class="lineNumber"><a data-pseudocode="code_unzip" data-ref="code_unzip" data-hllines="53" href="#code_unzipL53">53</a></div><div class="fold"></div></div><div class="locContent"><div><span class="rb1 close">}</span></div></div></code></div></body></html>